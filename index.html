<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>New Track Calendar</title>
    <script src="https://cdn.jsdelivr.net/npm/@json-editor/json-editor@latest/dist/jsoneditor.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <link rel="stylesheet" id="theme-link" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" id="iconlib-link" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css">
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css">
    <link rel="stylesheet" href="./static/css/newtrack_calendar.css">
    <script src="./static/js/newtrack_race.js"></script>
    <script src="./static/js/newtrack_title.js"></script>

    <script>
        $(function(){
  $('.tabcontent > div').hide();
  $('.tabnav a').click(function () {
    clear_selector();
    if(this.hash == '#all') {
      $('.tabcontent > div').show();
    } else {
      $('.tabcontent > div').hide().filter(this.hash).show();
    }
    $('.tabnav a').removeClass('active');
    $(this).addClass('active');
    return false;
  }).filter(':eq(0)').click();
  });
    </script>
</head>
<body>
<div style="margin: 25px;">
<table class="layout_table">
<tr>
<td>
<table class="top_table">
<td style="text-align:left;">
<table id="checkboxes">
<tr>
<td><label><input id="grass" type="checkbox" checked onclick="update_checkbox_class_all()">잔디</label></td>
<td><label><input id="dirt" type="checkbox" checked onclick="update_checkbox_class_all()">더트</label></td>
<td colspan="2"><input type="button" value="clear all" onclick="clear_rotation()"></td>
</tr>
<tr>
<td><label><input id="short" type="checkbox" checked onclick="update_checkbox_class_all()">단거리</label></td>
<td><label><input id="mile" type="checkbox" checked onclick="update_checkbox_class_all()">마일</label></td>
<td><label><input id="mid" type="checkbox" checked onclick="update_checkbox_class_all()">중거리</label></td>
<td><label><input id="long" type="checkbox" checked onclick="update_checkbox_class_all()">장거리</label></td>
</tr>
<tr>
<td><label><input id="op" type="checkbox" onclick="clear_selector()">Op</label></td>
<td><label><input id="pre_op" type="checkbox" onclick="clear_selector()">Pre-Op</label></td>
<td><label><input id="show_diff" type="checkbox" onclick="change_show_diff()">Show-Diff</label></td>
</tr>
</table>
</td>
<td style="text-align:center;">
    <table>
        <tr><td id="example_y">상점 막턴</td></tr>
        <tr><td id="example_b">여름 합숙</td></tr>
    </table>
</td>
</table>
</td>
<td id="reward_list"></td></tr>
<td>
<div style="display:inline-block;">
<div class="tab">
<ul class="tabnav">
  <li><a href="#tab01">주니어</a></li>
  <li><a href="#tab02">클래식</a></li>
  <li><a href="#tab03">시니어</a></li>
  <li><a href="#all">모두</a></li>
</ul>
<div class="tabcontent">
  <div id="tab01">
    <table id="J_table">
    </table>
  </div>
  <div id="tab02">
    <table id="C_table">
    </table>
  </div>
  <div id="tab03">
    <table id="S_table">
    </table>
  </div>
</div>
</div><!--tab-->
</div>
<td>
<div class="title_div"><ul id="title_list"></ul></div>
</td>
</table>
<div id="selector"></div>

<div>
<div>
<table class="stat_table">
<thead>
  <tr><th>잔디</th><th>더트</th><th>단거리</th><th>마일</th><th>중거리</th><th>장거리</th><th>출전수</th><th>스탯</th></tr>
</thead>
<tbody>
  <tr id="stat_tr"></tr>
</tbody>
</table>
<table class="extra_table">
    <tr><td>레이스 보너스: <input type="number" id="race_bonus" name="race_bonus" min="0" max="100" value="60" onchange="update_computed_stat()">%</td></tr>
    <tr><td id="computed_stat"></td></tr>
</table>
</div>
<hr>
<div>
My Presets
<table class="preset_table">
<thead>
  <tr><th></th><th>잔디</th><th>더트</th><th>단거리</th><th>마일</th><th>중거리</th><th>장거리</th><th>출전수</th><th>스탯</th><th></th><th></th></tr>
</thead>
<tbody id="my_rotation_presets">
</tbody>
</table>

<input type="button" value="save new" onclick="save_new()">
<hr>
<div>
<a href="https://gall.dcinside.com/umamusu/2036494" target="_blank">뉴트랙 출주표 정리</a><br>
<table class="preset_table">
<thead>
  <tr><th></th><th>잔디</th><th>더트</th><th>단거리</th><th>마일</th><th>중거리</th><th>장거리</th><th>출전수</th><th>스탯</th><th></th></tr>
</thead>
<tbody>
  <tr><td>삼관(중장) 루트          </td><td>O</td><td> </td><td> </td><td> </td><td>O</td><td>O</td><td>29</td><td>220</td><td><input type="button" value="import" onclick="load_preset(gall_deep_presets[0])"><br></td></tr>
  <tr><td>삼관(마중장) 루트        </td><td>O</td><td> </td><td> </td><td>O</td><td>O</td><td>O</td><td>33</td><td>260</td><td><input type="button" value="import" onclick="load_preset(gall_deep_presets[1])"><br></td></tr>
  <tr><td>삼관(마중장 + 더트) 루트  </td><td>O</td><td>O</td><td> </td><td>O</td><td>O</td><td>O</td><td>34</td><td>350</td><td><input type="button" value="import" onclick="load_preset(gall_deep_presets[2])"><br></td></tr>
  <tr><td>티아라(마중) 루트        </td><td>O</td><td> </td><td> </td><td>O</td><td>O</td><td> </td><td>31</td><td>200</td><td><input type="button" value="import" onclick="load_preset(gall_deep_presets[3])"><br></td></tr>
  <tr><td>티아라(단마중) 루트      </td><td>O</td><td> </td><td>O</td><td>O</td><td>O</td><td> </td><td>33</td><td>260</td><td><input type="button" value="import" onclick="load_preset(gall_deep_presets[4])"><br></td></tr>
  <tr><td>티아라(마중 + 더트) 루트  </td><td>O</td><td>O</td><td> </td><td>O</td><td>O</td><td> </td><td>32</td><td>240</td><td><input type="button" value="import" onclick="load_preset(gall_deep_presets[5])"><br></td></tr>
  <tr><td>티아라(단마중 + 더트) 루트</td><td>O</td><td>O</td><td>O</td><td>O</td><td>O</td><td> </td><td>32</td><td>310</td><td><input type="button" value="import" onclick="load_preset(gall_deep_presets[6])"><br></td></tr>
  <tr><td>단마 루트               </td><td>O</td><td> </td><td>O</td><td>O</td><td> </td><td> </td><td>33</td><td>180</td><td><input type="button" value="import" onclick="load_preset(gall_deep_presets[7])"><br></td></tr>
  <tr><td>단마+더트 루트           </td><td>O</td><td>O</td><td>O</td><td>O</td><td> </td><td> </td><td>31</td><td>280</td><td><input type="button" value="import" onclick="load_preset(gall_deep_presets[8])"><br></td></tr>
</tbody>
</table>
</div>

<hr>
<div>
<a href="https://umamusumelabo.com/beginner/race-rotation-guide" target="_blank">umamusumelabo.com race-rotation-guide</a><br>
<table class="preset_table">
<thead>
  <tr><th></th><th>잔디</th><th>더트</th><th>단거리</th><th>마일</th><th>중거리</th><th>장거리</th><th>출전수</th><th>스탯</th><th></th></tr>
</thead>
<tbody>
  <tr><td>마일 적성이 있는 중장거리 말딸</td><td>O</td><td></td><td></td><td>O</td><td>O</td><td>O</td><td>33</td><td>260</td><td><input type="button" value="import" onclick="load_preset(umamusumelabo_presets[0])"><br></td></tr>
  <tr><td>오구리캡</td><td>O</td><td>O</td><td></td><td>O</td><td>O</td><td>O</td><td>34</td><td>350</td><td><input type="button" value="import" onclick="load_preset(umamusumelabo_presets[1])"><br></td></tr>
  <tr><td>보드카</td><td>O</td><td></td><td></td><td>O</td><td>O</td><td></td><td>32</td><td>200</td><td><input type="button" value="import" onclick="load_preset(umamusumelabo_presets[2])"><br></td></tr>
  <tr><td>아그네스 디지털</td><td>O</td><td>O</td><td></td><td>O</td><td>O</td><td></td><td>32</td><td>240</td><td><input type="button" value="import" onclick="load_preset(umamusumelabo_presets[3])"><br></td></tr>
  <tr><td>마일 적성이 낮은 중장거리 말딸</td><td>O</td><td></td><td></td><td></td><td>O</td><td>O</td><td>29</td><td>220</td><td><input type="button" value="import" onclick="load_preset(umamusumelabo_presets[4])"><br></td></tr>
  <tr><td>사쿠라 박신 오</td><td>O</td><td></td><td>O</td><td>O</td><td></td><td></td><td>34</td><td>180</td><td><input type="button" value="import" onclick="load_preset(umamusumelabo_presets[5])"><br></td></tr>
  <tr><td>타이키 셔틀</td><td>O</td><td>O</td><td>O</td><td>O</td><td></td><td></td><td>32</td><td>280</td><td><input type="button" value="import" onclick="load_preset(umamusumelabo_presets[6])"><br></td></tr>
  <tr><td>스마트 팔콘 잔디개조</td><td>O</td><td>O</td><td>O</td><td>O</td><td>O</td><td></td><td>32</td><td>310</td><td><input type="button" value="import" onclick="load_preset(umamusumelabo_presets[7])"><br></td></tr>
</tbody>
</table>
</div>
<hr>
<div>
<table class="preset_table">
  <tr><th></th><th>잔디</th><th>더트</th><th>단거리</th><th>마일</th><th>중거리</th><th>장거리</th><th>출전수</th><th>스탯</th><th></th></tr>
  <tr><td>최소대회 PresetA</td><td>O</td><td></td><td></td><td>O</td><td>O</td><td>O</td><td>27</td><td>270</td><td><input type="button" value="import" onclick="load_preset(grass_base_preset_text)"><br></td></tr>
  <tr><td>최소대회 PresetB</td><td>O</td><td>O</td><td></td><td>O</td><td>O</td><td>O</td><td>31</td><td>350</td><td><input type="button" value="import" onclick="load_preset(grass_dirt_base_preset_text)"><br></td></tr>
</table>
</div>
</div>
</div>

<hr>
<textarea id="json_area" cols="40" rows="5"></textarea>
<div>
<input type="button" value="export" onclick="export_text()">
<input type="button" value="import" onclick="import_text()">
</div>

<p id="debug"></p>
</div>
<script>

checkbox_ids = ["grass", "dirt", "short", "mile", "mid", "long","op", "pre_op", "show_diff"];
function save_checkbox_status() {
  var checkboxes = {};
  for(const checkbox_id of checkbox_ids) {
    checkboxes[checkbox_id] = $('#' + checkbox_id)[0].checked;
  }
  window.localStorage.setItem("checkboxes", JSON.stringify(checkboxes));
}

function load_checkbox_status() {
  var checkbox_str = window.localStorage.getItem("checkboxes");
  if (checkbox_str == null) return {};
  var checkboxes = JSON.parse(checkbox_str);
  for(const checkbox_id of checkbox_ids) {
    if (checkbox_id in checkboxes) {
      $('#' + checkbox_id)[0].checked = checkboxes[checkbox_id];
    }
  }
}

stat_pts = {
  "데뷔전": [3, 15, 3],
  "OP": [5, 20, 1],
  "G23": [8, 25, 1],
  "G1": [10, 35, 1],
  "TS": [10, 30, 5],
};

function update_stat_table() {
  var count_stat = {
    "잔디": 0,
    "더트": 0,
    "단거리": 0,
    "마일": 0,
    "중거리": 0,
    "장거리": 0,
    "출전수": 0,
    "스탯": get_title_rewards(window.rotation)[0],
  };
  var td_keys = ["잔디", "더트", "단거리", "마일", "중거리", "장거리", "출전수", "스탯"];
  for (const race of window.rotation.get_all_races()) {
    count_stat["출전수"] ++;
    count_stat[race.track] ++;
    count_stat[dist_to_text(race.distance)] ++;
  }
  var stat_tr = $('#stat_tr')[0];
  stat_tr.innerText = "";
  for (const key of td_keys) {
    var stat_td = document.createElement("td");
    if (["출전수", "스탯"].includes(key)) {
      stat_td.innerText = count_stat[key];
    } else {
      stat_td.innerText = (count_stat[key] == 0) ? "" : count_stat[key];
    }
    stat_tr.appendChild(stat_td);
  }
}

function update_computed_stat() {
  var computed_stat_td = $('#computed_stat')[0];
  computed_stat_td.innerText = "";
  var race_bonus = (100 + parseInt($('#race_bonus')[0].value)) / 100;
  var exp_div = document.createElement("div");
  exp_div.innerText = "(데뷔전/TS/칭호 포함)";
  computed_stat_td.appendChild(exp_div);

  var count_stat = {
    "데뷔전": 1,
    "OP": 0,
    "G23": 0,
    "G1": 0,
    "TS": 3,
  };
  for (const race of window.rotation.get_all_races()) {
    if (race.grade == "G I") {
      count_stat["G1"] ++;
    }
    else if (race.grade == "G II" || race.grade == "G III") {
      count_stat["G23"] ++;
    }
    else {
      count_stat["OP"] ++;
    }
  }
  var stats = get_title_rewards(window.rotation)[0];
  var pts = 0;
  for (const [grade, count] of Object.entries(count_stat)) {
    stats += count * Math.floor(stat_pts[grade][0] * race_bonus) * stat_pts[grade][2];
    pts += count * Math.floor(stat_pts[grade][1] * race_bonus);
  }

  var stats_div = document.createElement("div");
  stats_div.innerText = stats + " 스탯";
  computed_stat_td.appendChild(stats_div);
  var pts_div = document.createElement("div");
  pts_div.innerText = pts + " pts";
  computed_stat_td.appendChild(pts_div);

  update_stat_table();
}

function check_mosaic(race) {
  var [grass, dirt, short, mile, mid, long] = ["grass", "dirt", "short", "mile", "mid", "long"].map(key => $('input:checkbox[id="' + key + '"]').is(":checked"))

  var mosaic = false;

  if (!grass && race["track"] == "잔디") mosaic = true;
  if (!dirt && race["track"] == "더트") mosaic = true;
  if (!short && dist_to_text(race["distance"]) == "단거리") mosaic = true;
  if (!mile && dist_to_text(race["distance"]) == "마일") mosaic = true;
  if (!mid && dist_to_text(race["distance"]) == "중거리") mosaic = true;
  if (!long && dist_to_text(race["distance"]) == "장거리") mosaic = true;

  return mosaic;
}

function decorate_race_image(img, race) {
  img.classList.remove("mosaic");
  if (race == null) {
    img.title = "";
    return;
  }
  img.title = race.grade + " / " + race.location + " / " + race.track + " / " + race.distance + "m(" + dist_to_text(race.distance) + ") / " + race.direction;
  if (check_mosaic(race)) img.classList.add("mosaic");
}

function change_show_diff() {
  update_checkbox_class_all();
  draw_races();
}

function update_checkbox_class_all() {
  clear_selector();

  for (var date_id of window.race_manager.date_id_list) {
    var race_id = window.rotation.get_race_id(date_id);
    if (race_id != -1) {
      var race = window.race_manager.get_race(race_id);
      img = $('#'+date_id + " .race_img")[0];
      decorate_race_image(img, race);
    }
  }
}

function get_rotation_text() {
  return btoa(JSON.stringify(window.rotation.date_id_to_race_id));
}

function get_rotation_red_set() {
  var stat_set = new Set();
  for (const race of window.rotation.get_all_races()) {
    stat_set.add(race.track);
    stat_set.add(dist_to_text(race.distance));
  }
  return Array.from(stat_set);
}

function export_text() {
  $("#json_area")[0].value = get_rotation_text();
}

function clear_rotation() {
  $("#json_area")[0].value = "e30=";
  import_text();
}

function import_text() {
  window.rotation.set_date_id_to_race_id(JSON.parse(atob($("#json_area")[0].value)));
  draw_races();
  update_titles();
  update_checkbox_class_all();
}

function get_local_presets() {
  var presets = window.localStorage.getItem("presets");
  if (presets == null) return [];
  return JSON.parse(presets);
}

function save_local_presets(presets) {
  window.localStorage.setItem("presets", JSON.stringify(presets));
}

function save_new() {
  presets = get_local_presets();
  presets.push(["나만의 로테이션",
    get_rotation_red_set(),
    window.rotation.get_all_races().length,
    get_title_rewards(window.rotation)[0],
    get_rotation_text()]);
  save_local_presets(presets);
  render_rotation_presets();
}

function save_preset(index) {
  presets = get_local_presets();
  presets[index] = [presets[index][0],
    get_rotation_red_set(),
    window.rotation.get_all_races().length,
    get_title_rewards(window.rotation)[0],
    get_rotation_text()];
  save_local_presets(presets);
  render_rotation_presets();
}

function delete_preset(index) {
  presets = get_local_presets();
  presets.splice(index, 1);
  save_local_presets(presets);
  render_rotation_presets();
}

function preset_move_up(index) {
  console.log("move up");
  if (index == 0) return;
  presets = get_local_presets();

  [presets[index-1], presets[index]] = [presets[index], presets[index-1]];
  save_local_presets(presets);
  render_rotation_presets();
}

function preset_move_down(index) {
  console.log("move down");
  presets = get_local_presets();
  if (index+1 == presets.length) return;
  [presets[index+1], presets[index]] = [presets[index], presets[index+1]];
  save_local_presets(presets);
  render_rotation_presets();
}

function create_preset_elem(preset, index) {
  var tr = document.createElement("tr");

  var title_td = document.createElement("td");
  title_td.innerText = preset[0];
  title_td.setAttribute("contenteditable", "true");
  title_td.addEventListener("input", function() {
    presets = get_local_presets();
    presets[index][0] = title_td.innerText;
    save_local_presets(presets);
  }, false);

  tr.appendChild(title_td);

  for (const red of ["잔디", "더트", "단거리", "마일", "중거리", "장거리"]) {
    var red_td = document.createElement("td");
    red_td.innerText = preset[1].includes(red) ? "O": "";
    tr.appendChild(red_td);
  }
  var number_td = document.createElement("td");
  number_td.innerText = preset[2];
  tr.appendChild(number_td);
  var stat_td = document.createElement("td");
  stat_td.innerText = preset[3];
  tr.appendChild(stat_td);

  var button_td = document.createElement("td");

  var button_div = document.createElement("div");
  button_div.classList.add("button_div");
  var load_input = document.createElement("input");
  load_input.value = "load";
  load_input.type = "button";

  load_input.addEventListener("click", function() {
    load_preset(preset[4]);
  });
  button_div.appendChild(load_input);

  var save_input = document.createElement("input");
  save_input.value = "save";
  save_input.type = "button";

  save_input.addEventListener("click", function() {
    save_preset(index);
  });
  button_div.appendChild(save_input);

  var delete_input = document.createElement("input");
  delete_input.value = "delete";
  delete_input.type = "button";

  delete_input.addEventListener("click", function() {
    delete_preset(index);
  });
  button_div.appendChild(delete_input);

  button_td.appendChild(button_div);
  tr.appendChild(button_td);

  var up_down_td = document.createElement("td");

  var up_i = document.createElement("i");
  up_i.classList.add("arrow");
  up_i.classList.add("up");
  up_i.addEventListener("click", function() {
    preset_move_up(index);
  });
  up_down_td.appendChild(up_i);

  var down_i = document.createElement("i");
  down_i.classList.add("arrow");
  down_i.classList.add("down");
  down_i.addEventListener("click", function() {
    preset_move_down(index);
  });
  up_down_td.appendChild(down_i);
  tr.appendChild(up_down_td);

  return tr;
}

function render_rotation_presets() {
  var tbody = $("#my_rotation_presets")[0];
  tbody.innerHTML = "";

  presets = get_local_presets();
  for (const [index, preset] of presets.entries()) {
    tbody.appendChild(create_preset_elem(preset, index));
  }
}

DEFAULT_THUMB_LINK = './static/thum_race_rt/empty_race.png'
function get_thumb_link(race) {
  if (race == null) return DEFAULT_THUMB_LINK;
  return race.thumb_link;
}

function render_calendar_race(date_id, race) {
  var img = $('#'+date_id + " .race_img")[0];
  img.src = get_thumb_link(race);
  decorate_race_image(img, race);

  var div = $('#'+date_id + " .race_img ~ div")[0];
  div.className = "";
  div.innerText = "";
  if(race != null) {
    var show_diff = $('input:checkbox[id="show_diff"]').is(":checked");
    if (show_diff) {
      var diff = stat_bonus_when_remove(date_id) - get_title_rewards(window.rotation)[0];
      if (diff != 0) {
        div.innerText = diff;
        div.classList.add("minus");
      }
    }
  }
}

function draw_race(date_id) {
  var race_id = window.rotation.get_race_id(date_id);
  if (race_id != -1) {
    var race = window.race_manager.get_race(race_id);
    render_calendar_race(date_id, race);
  } else {
    render_calendar_race(date_id, null);
  }
}

function draw_races() {
  for (var date_id of window.race_manager.date_id_list) {
    draw_race(date_id);
  }
}

function clear_selector() {
  save_checkbox_status();
  var selector = $("#selector")[0];
  selector.innerText = '';
}

function select_race(date_id, race) {
  window.rotation.select(date_id, (race != null) ? race.id : -1);
  draw_race(date_id);
  update_titles();

  var show_diff = $('input:checkbox[id="show_diff"]').is(":checked");
  if (show_diff) {
    draw_races();
  }
}

function add_choice(race) {
  var selector = $("#selector")[0];

  var wrapper = document.createElement("div");

  var img = document.createElement("img");
  img.src = get_thumb_link(race);
  img.classList.add("race_img");
  decorate_race_image(img, race);
  img.onclick = function() {
    select_race(selected_date_id, race);
    clear_selector();
  }

  wrapper.appendChild(img);
  var div = document.createElement("div");

  div.className = "";
  div.innerText = "";
  if(race != null) {
    race_id = race.id;
  }
  else {
    race_id = -1;
  }

  var show_diff = $('input:checkbox[id="show_diff"]').is(":checked");
  if (show_diff) {
    var diff = stat_bonus_when_change(selected_date_id, race_id) - get_title_rewards(window.rotation)[0];
    if(diff < 0) {
      div.innerText = diff;
      div.classList.add("minus");
    }
    if(diff > 0) {
      div.innerText = "+" + diff;
      div.classList.add("plus");
    }
  }

  wrapper.appendChild(div);
  selector.appendChild(wrapper);
}

function update_selector() {
  clear_selector();
  var op = $('input:checkbox[id="op"]').is(":checked");
  var pre_op = $('input:checkbox[id="pre_op"]').is(":checked");
  if (selected_date_id in window.race_manager.date_id_to_race_ids) {
    for (const race_id of window.race_manager.date_id_to_race_ids[selected_date_id]) {
      var race = window.race_manager.get_race(race_id);
      if (race.grade == 'OP' && !op) continue;
      if (race.grade == 'Pre-OP' && !pre_op) continue;
      // if (check_mosaic(race)) continue;
      add_choice(race);
    }
  }
  add_choice(null);
}

function get_click_event(col) {
  function date_click(e) {
    selected_date_id = col.id;
    update_selector();
    var left = e.clientX  + "px";
    var top = e.clientY  + "px";

    var selector = $("#selector")[0];

    selector.style.left = left;
    selector.style.top = top;
  }
  return date_click;
}

function create_childs_ul(childs) {
  var ul = document.createElement("ul");
  ul.classList.add("nested");
  for (const child of childs) {
    ul.appendChild(create_condition_li(child));
  }
  return ul;
}

function create_condition_li(condition) {
  var li = document.createElement("li");
  if(condition.childs.length > 0) {
    var label = document.createElement("label");
    var checkbox = document.createElement("input");
    checkbox.type = "checkbox";
    label.appendChild(checkbox);

    var span = document.createElement("span");
    condition.text_elem = span;

    label.appendChild(span);

    var ul = create_childs_ul(condition.childs);
    li.appendChild(label);
    li.appendChild(ul);
  } else {
    condition.text_elem = li;
  }
  return li;
}

function update_condition(condition, show_stat=null) {
  update_childs(condition.childs);
  condition.text_elem.innerText = (show_stat != null) ? condition.repr(window.rotation, show_stat): condition.repr(window.rotation);
  condition.text_elem.className = condition.check(window.rotation) ? "true" : "false";
  if (condition.title != null) {
    condition.text_elem.title = condition.title;
  }
}

function update_childs(childs, show_stat) {
  for (const child of childs) {
    update_condition(child, show_stat);
  }
}

function create_titles() {
  var title_list = $("#title_list")[0];
  title_list.innerHTML = "";

  for(const title of window.Titles) {
    var li = create_condition_li(title);
    title_list.appendChild(li);
  }
}

function update_titles() {
  update_childs(window.Titles, true);
  [stat_bonus, skill_bonuses] = get_title_rewards(window.rotation);

  rewards = ["칭호 보너스"];
  rewards.push(stat_bonus + " 스탯");
  for (const skill_bonus of skill_bonuses) {
    rewards.push(skill_bonus);
  }
  rewards.push("(출전수 " + window.rotation.count_all_races() + "전)")

  var reward_list = $("#reward_list")[0];
  reward_list.innerText = "";

  for (const reward of rewards) {
    var item = document.createElement("div");
    item.innerText = reward;
    reward_list.appendChild(item);
  }
  update_computed_stat();
}

window.race_manager_ready = function() {
  load_checkbox_status();
  var date_id_list = window.race_manager.date_id_list;
  for (var i = 0; i < date_id_list.length; i+=4) {
    var jcs = date_id_list[i][0];
    var table_elem = $("#" + jcs + "_table")[0];
    var row = document.createElement("tr");
    for (var j = 0; j < 4; j++) {
      var col = document.createElement("td");
      function add_img(col, row) {
        var idx = i+j;
        col.id = date_id_list[idx];
        var img = document.createElement("img");
        img.classList.add("race_img");
        img.addEventListener("click", get_click_event(col));

        col.appendChild(img);
        var text = document.createElement("p");
        text.classList.add("race_date");
        text.innerText = date_id_to_text(date_id_list[idx]);
        col.appendChild(text);
        var div = document.createElement("div");
        col.appendChild(div);
      };
      add_img(col, row);
      row.appendChild(col);
    }
    table_elem.appendChild(row);
  }
  draw_races();
  create_titles();
  update_titles();
  render_rotation_presets();
}
</script>

<script>
function load_preset(preset_text) {
  $("#json_area")[0].value = preset_text;
  import_text();
}

grass_base_preset_text = 'eyJKXzdfQSI6LTEsIkpfN19CIjotMSwiSl84X0EiOi0xLCJKXzhfQiI6OTEsIkpfOV9BIjo5MiwiSl85X0IiOi0xLCJKXzEwX0EiOjk0LCJKXzEwX0IiOi0xLCJKXzExX0EiOjQ0LCJKXzExX0IiOi0xLCJKXzEyX0EiOjEsIkpfMTJfQiI6MiwiQ18xX0EiOi0xLCJDXzFfQiI6LTEsIkNfMl9BIjotMSwiQ18yX0IiOi0xLCJDXzNfQSI6LTEsIkNfM19CIjotMSwiQ180X0EiOjQsIkNfNF9CIjotMSwiQ181X0EiOjUsIkNfNV9CIjo3LCJDXzZfQSI6LTEsIkNfNl9CIjo5LCJDXzdfQSI6LTEsIkNfN19CIjotMSwiQ184X0EiOi0xLCJDXzhfQiI6LTEsIkNfOV9BIjoxMjksIkNfOV9CIjotMSwiQ18xMF9BIjotMSwiQ18xMF9CIjoxNCwiQ18xMV9BIjoxNSwiQ18xMV9CIjoxOSwiQ18xMl9BIjotMSwiQ18xMl9CIjoyMiwiU18xX0EiOi0xLCJTXzFfQiI6NjksIlNfMl9BIjotMSwiU18yX0IiOi0xLCJTXzNfQSI6LTEsIlNfM19CIjoyNiwiU180X0EiOi0xLCJTXzRfQiI6MjcsIlNfNV9BIjoyOCwiU181X0IiOi0xLCJTXzZfQSI6MjksIlNfNl9CIjozMCwiU183X0EiOi0xLCJTXzdfQiI6LTEsIlNfOF9BIjotMSwiU184X0IiOi0xLCJTXzlfQSI6MTc1LCJTXzlfQiI6ODEsIlNfMTBfQSI6LTEsIlNfMTBfQiI6MzMsIlNfMTFfQSI6MzQsIlNfMTFfQiI6MzksIlNfMTJfQSI6LTEsIlNfMTJfQiI6NDF9';
grass_dirt_base_preset_text = 'eyJKXzdfQSI6LTEsIkpfN19CIjotMSwiSl84X0EiOi0xLCJKXzhfQiI6OTEsIkpfOV9BIjo5MiwiSl85X0IiOi0xLCJKXzEwX0EiOjk0LCJKXzEwX0IiOi0xLCJKXzExX0EiOjQ0LCJKXzExX0IiOi0xLCJKXzEyX0EiOjEsIkpfMTJfQiI6MiwiQ18xX0EiOi0xLCJDXzFfQiI6LTEsIkNfMl9BIjoxMDIsIkNfMl9CIjotMSwiQ18zX0EiOi0xLCJDXzNfQiI6NDgsIkNfNF9BIjo0LCJDXzRfQiI6LTEsIkNfNV9BIjo1LCJDXzVfQiI6NywiQ182X0EiOi0xLCJDXzZfQiI6OSwiQ183X0EiOi0xLCJDXzdfQiI6LTEsIkNfOF9BIjotMSwiQ184X0IiOi0xLCJDXzlfQSI6MTI5LCJDXzlfQiI6NTcsIkNfMTBfQSI6LTEsIkNfMTBfQiI6MTQsIkNfMTFfQSI6MTYsIkNfMTFfQiI6MjAsIkNfMTJfQSI6LTEsIkNfMTJfQiI6MjMsIlNfMV9BIjotMSwiU18xX0IiOjY5LCJTXzJfQSI6LTEsIlNfMl9CIjoyNCwiU18zX0EiOi0xLCJTXzNfQiI6MjYsIlNfNF9BIjotMSwiU180X0IiOjI3LCJTXzVfQSI6MjgsIlNfNV9CIjotMSwiU182X0EiOjI5LCJTXzZfQiI6MzEsIlNfN19BIjotMSwiU183X0IiOi0xLCJTXzhfQSI6LTEsIlNfOF9CIjotMSwiU185X0EiOjE3NSwiU185X0IiOjgxLCJTXzEwX0EiOi0xLCJTXzEwX0IiOjMzLCJTXzExX0EiOjM3LCJTXzExX0IiOjM4LCJTXzEyX0EiOi0xLCJTXzEyX0IiOjQxfQ==';

gall_deep_presets = [
  'eyJKXzlfQiI6MTk1LCJKXzEwX0EiOjIwMCwiSl8xMV9CIjo5OCwiSl8xMl9CIjoyLCJDXzFfQSI6MTAxLCJDXzJfQiI6MjMzLCJDXzNfQSI6NDUsIkNfNF9BIjo0LCJDXzRfQiI6NTEsIkNfNV9CIjo3LCJDXzZfQiI6OSwiQ185X0EiOjEyOSwiQ185X0IiOjU4LCJDXzEwX0IiOjE0LCJDXzExX0EiOjE1LCJDXzExX0IiOjIwLCJDXzEyX0IiOjIyLCJTXzFfQiI6NjksIlNfMl9BIjo3MCwiU18zX0IiOjI2LCJTXzRfQiI6MjcsIlNfNl9CIjozMCwiU181X0EiOjE1NywiU185X0EiOjE3NSwiU185X0IiOjgxLCJTXzEwX0IiOjMzLCJTXzExX0EiOjM0LCJTXzExX0IiOjM5LCJTXzEyX0IiOjQxfQ==',
  'eyJDXzFfQSI6LTEsIkpfN19BIjotMSwiSl84X0IiOjkxLCJKXzlfQSI6OTIsIkpfMTBfQSI6OTQsIkpfMTBfQiI6OTUsIkpfMTFfQiI6OTgsIkpfMTJfQSI6MSwiSl8xMl9CIjoyLCJDXzJfQSI6MTAyLCJDXzNfQSI6NDUsIkNfM19CIjo0OCwiQ180X0EiOjQsIkNfNV9BIjo1LCJDXzVfQiI6NywiQ182X0IiOjksIkNfOV9BIjoxMjksIkNfOV9CIjo1OCwiQ18xMF9CIjoxNCwiQ18xMV9BIjoxNSwiQ18xMV9CIjoxOSwiQ18xMl9CIjoyMiwiU18xX0EiOjY3LCJTXzNfQSI6MTUyLCJTXzNfQiI6MjYsIlNfNF9CIjoyNywiU181X0EiOjI4LCJTXzZfQSI6MjksIlNfNl9CIjozMCwiU185X0EiOjE3NSwiU185X0IiOjgxLCJTXzEwX0IiOjMzLCJTXzExX0EiOjM0LCJTXzExX0IiOjM5LCJTXzEyX0IiOjQxfQ==',
  'eyJKXzhfQiI6OTEsIkpfOV9BIjo5MiwiSl8xMF9BIjo5NCwiSl8xMF9CIjo5NSwiSl8xMV9CIjo5NywiSl8xMl9BIjoxLCJKXzEyX0IiOjIsIkNfMl9BIjoxMDIsIkNfM19BIjo0NSwiQ18zX0IiOjQ4LCJDXzRfQSI6NCwiQ181X0EiOjUsIkNfNV9CIjo3LCJDXzZfQiI6OSwiQ185X0EiOjEyOSwiQ18xMF9BIjo2MSwiQ18xMF9CIjoxNCwiQ18xMV9CIjoxOSwiQ18xMl9BIjoyMSwiQ18xMl9CIjoyMiwiU18yX0IiOjI0LCJTXzNfQSI6MTUyLCJTXzNfQiI6MjYsIlNfNF9CIjoyNywiU181X0EiOjI4LCJTXzZfQSI6MjksIlNfNl9CIjozMSwiU185X0EiOjE3NSwiU18xMF9BIjo4NCwiU18xMF9CIjozMywiU18xMV9CIjozOSwiU18xMl9BIjo0MCwiU18xMl9CIjo0MSwiQ183X0EiOjEwfQ==',
  'eyJKXzhfQiI6OTEsIkpfOV9BIjo5MiwiSl8xMF9BIjo5NCwiSl8xMF9CIjo5NSwiSl8xMV9CIjo5NywiSl8xMl9BIjowLCJKXzEyX0IiOjIsIkNfMl9BIjoxMDIsIkNfM19BIjo0NSwiQ18zX0IiOjQ4LCJDXzRfQSI6MywiQ181X0EiOjUsIkNfNV9CIjo2LCJDXzZfQiI6OSwiQ185X0EiOjEyOSwiQ185X0IiOjU4LCJDXzEwX0IiOjEzLCJDXzExX0EiOjE1LCJDXzExX0IiOjE5LCJTXzFfQiI6NjksIlNfMl9BIjo3MCwiU18zX0IiOjI2LCJTXzRfQSI6NzUsIlNfNV9BIjoyOCwiU182X0EiOjI5LCJTXzZfQiI6MzAsIlNfOV9BIjoxNzUsIlNfMTBfQiI6MzMsIlNfOV9CIjo4MSwiU18xMV9BIjozNCwiU18xMV9CIjozOX0=',
  'eyJKXzdfQiI6OTAsIkpfOF9CIjo5MSwiSl85X0EiOjkyLCJKXzEwX0EiOjk0LCJKXzEwX0IiOjk1LCJKXzExX0IiOjk4LCJKXzEyX0EiOjAsIkpfMTJfQiI6MiwiQ18yX0EiOjEwMiwiQ18zX0EiOjQ2LCJDXzNfQiI6NDgsIkNfNF9BIjozLCJDXzVfQSI6NSwiQ181X0IiOjYsIkNfNl9CIjoxMTMsIkNfOV9BIjoxMjksIkNfOV9CIjoxMSwiQ18xMF9CIjoxMywiQ18xMV9BIjoxNSwiQ18xMV9CIjoxOSwiQ18xMl9CIjo2NiwiU18xX0IiOjY5LCJTXzJfQSI6NzAsIlNfM19BIjoxNTEsIlNfM19CIjoyNSwiU181X0EiOjI4LCJTXzZfQSI6MjksIlNfNl9CIjozMCwiU185X0EiOjE3NSwiU185X0IiOjMyLCJTXzEwX0IiOjMzLCJTXzExX0EiOjM0LCJTXzExX0IiOjM5fQ==',
  'eyJKXzhfQiI6OTEsIkpfOV9BIjo5MiwiSl8xMF9BIjo5NCwiSl8xMF9CIjo5NSwiSl8xMV9CIjo5NywiSl8xMl9BIjowLCJKXzEyX0IiOjIsIkNfMl9BIjoxMDIsIkNfM19BIjo0NSwiQ18zX0IiOjQ4LCJDXzRfQSI6MywiQ181X0EiOjUsIkNfNV9CIjo2LCJDXzZfQiI6OSwiQ185X0EiOjEyOSwiQ185X0IiOjU4LCJDXzEwX0IiOjEzLCJDXzExX0EiOjE1LCJDXzEyX0EiOjIxLCJDXzEyX0IiOjIzLCJTXzJfQiI6MjQsIlNfM19BIjoxNTIsIlNfM19CIjoyNiwiU181X0EiOjI4LCJTXzZfQSI6MjksIlNfNl9CIjozMSwiU185X0EiOjE3NSwiU185X0IiOjgxLCJTXzEwX0IiOjMzLCJTXzExX0EiOjM0LCJTXzEyX0EiOjQwLCJTXzEyX0IiOjQyfQ==',
  'eyJKXzhfQiI6OTEsIkpfOV9BIjo5MiwiSl8xMF9BIjo5NCwiSl8xMF9CIjo5NSwiSl8xMV9CIjo5NywiSl8xMl9BIjowLCJKXzEyX0IiOjIsIkNfMl9BIjoxMDIsIkNfM19BIjo0NSwiQ18zX0IiOjQ4LCJDXzRfQSI6MywiQ181X0EiOjUsIkNfNV9CIjo2LCJDXzZfQiI6OSwiQ185X0EiOjU1LCJDXzlfQiI6MTEsIkNfMTBfQiI6MTMsIkNfMTFfQSI6MTUsIkNfMTFfQiI6MTksIkNfMTJfQiI6MjMsIlNfMl9CIjoyNCwiU18zX0EiOjE1MiwiU18zX0IiOjI1LCJTXzVfQSI6MjgsIlNfNl9BIjoyOSwiU182X0IiOjMxLCJTXzlfQSI6MTc1LCJTXzlfQiI6MzIsIlNfMTBfQiI6MzMsIlNfMTFfQSI6MzQsIlNfMTJfQSI6NDAsIlNfMTJfQiI6NDJ9',
  'eyJKXzdfQiI6OTAsIkpfOF9CIjo5MSwiSl85X0EiOjkyLCJKXzEwX0EiOjk0LCJKXzEwX0IiOjk1LCJKXzExX0IiOjk3LCJKXzEyX0EiOjAsIkNfMV9BIjo5OSwiQ18yX0EiOjEwMiwiQ18zX0EiOjQ3LCJDXzNfQiI6NDgsIkNfNF9BIjozLCJDXzVfQSI6NSwiQ182X0EiOjgsIkNfNl9CIjoxMTMsIkNfOV9BIjo1NSwiQ18xMF9BIjo2MSwiQ18xMV9CIjoxOSwiQ18xMl9BIjoxNDAsIkNfMTJfQiI6NjYsIlNfMl9CIjoxNDcsIlNfM19BIjoxNTIsIlNfM19CIjoyNSwiU180X0IiOjE1NiwiU181X0EiOjI4LCJTXzZfQSI6MjksIlNfNl9CIjoxNjIsIlNfOV9BIjo4MCwiU185X0IiOjMyLCJTXzEwX0EiOjg0LCJTXzExX0IiOjM4LCJTXzEyX0EiOjE4NSwiU18xMl9CIjo4OX0=',
  'eyJKXzdfQiI6OTAsIkpfOF9CIjo5MSwiSl85X0EiOjkyLCJKXzEwX0EiOjk0LCJKXzEwX0IiOjk1LCJKXzExX0IiOjk3LCJKXzEyX0EiOjAsIkNfMV9BIjo5OSwiQ18yX0EiOjEwMiwiQ18zX0EiOjQ3LCJDXzNfQiI6NDgsIkNfNF9BIjozLCJDXzVfQSI6NSwiQ182X0EiOjgsIkNfNl9CIjoxMTMsIkNfMTBfQSI6NjEsIkNfMTFfQSI6MTcsIkNfMTFfQiI6MTksIkNfMTJfQSI6MjEsIlNfMl9CIjoyNCwiU18zX0EiOjE1MiwiU180X0IiOjE1NiwiU181X0EiOjI4LCJTXzZfQSI6MjksIlNfNl9CIjoxNjIsIlNfOV9CIjozMiwiU18xMF9BIjo4NCwiU18xMV9BIjozNiwiU18xMl9BIjo0MCwiU18xMl9CIjo4OSwiU18zX0IiOjI1fQ==',
]

umamusumelabo_presets = [
  'eyJKXzdfQSI6LTEsIkpfN19CIjotMSwiSl84X0EiOi0xLCJKXzhfQiI6OTEsIkpfOV9BIjo5MiwiSl85X0IiOi0xLCJKXzEwX0EiOjk0LCJKXzEwX0IiOjk1LCJKXzExX0EiOi0xLCJKXzExX0IiOjk4LCJKXzEyX0EiOjEsIkpfMTJfQiI6MiwiQ18xX0EiOi0xLCJDXzFfQiI6LTEsIkNfMl9BIjoxMDIsIkNfMl9CIjotMSwiQ18zX0EiOjQ1LCJDXzNfQiI6NDgsIkNfNF9BIjo0LCJDXzRfQiI6LTEsIkNfNV9BIjo1LCJDXzVfQiI6NywiQ182X0EiOi0xLCJDXzZfQiI6OSwiQ183X0EiOi0xLCJDXzdfQiI6LTEsIkNfOF9BIjotMSwiQ184X0IiOi0xLCJDXzlfQSI6MTI5LCJDXzlfQiI6NTgsIkNfMTBfQSI6LTEsIkNfMTBfQiI6MTQsIkNfMTFfQSI6MTUsIkNfMTFfQiI6MTksIkNfMTJfQSI6LTEsIkNfMTJfQiI6MjIsIlNfMV9BIjo2NywiU18xX0IiOi0xLCJTXzJfQSI6LTEsIlNfMl9CIjotMSwiU18zX0EiOjE1MiwiU18zX0IiOjI2LCJTXzRfQSI6LTEsIlNfNF9CIjoyNywiU181X0EiOjI4LCJTXzVfQiI6LTEsIlNfNl9BIjoyOSwiU182X0IiOjMwLCJTXzdfQSI6LTEsIlNfN19CIjotMSwiU184X0EiOi0xLCJTXzhfQiI6LTEsIlNfOV9BIjoxNzUsIlNfOV9CIjo4MSwiU18xMF9BIjotMSwiU18xMF9CIjozMywiU18xMV9BIjozNCwiU18xMV9CIjozOSwiU18xMl9BIjotMSwiU18xMl9CIjo0MX0=',
  'eyJKXzdfQSI6LTEsIkpfN19CIjotMSwiSl84X0EiOi0xLCJKXzhfQiI6OTEsIkpfOV9BIjo5MiwiSl85X0IiOi0xLCJKXzEwX0EiOjk0LCJKXzEwX0IiOjk1LCJKXzExX0EiOi0xLCJKXzExX0IiOjk3LCJKXzEyX0EiOjEsIkpfMTJfQiI6MiwiQ18xX0EiOi0xLCJDXzFfQiI6LTEsIkNfMl9BIjoxMDIsIkNfMl9CIjotMSwiQ18zX0EiOjQ1LCJDXzNfQiI6NDgsIkNfNF9BIjo0LCJDXzRfQiI6LTEsIkNfNV9BIjo1LCJDXzVfQiI6NywiQ182X0EiOi0xLCJDXzZfQiI6OSwiQ183X0EiOjEwLCJDXzdfQiI6LTEsIkNfOF9BIjotMSwiQ184X0IiOi0xLCJDXzlfQSI6MTI5LCJDXzlfQiI6LTEsIkNfMTBfQSI6NjEsIkNfMTBfQiI6MTQsIkNfMTFfQSI6LTEsIkNfMTFfQiI6MTksIkNfMTJfQSI6MjEsIkNfMTJfQiI6MjIsIlNfMV9BIjotMSwiU18xX0IiOi0xLCJTXzJfQSI6LTEsIlNfMl9CIjoyNCwiU18zX0EiOjE1MiwiU18zX0IiOjI2LCJTXzRfQSI6LTEsIlNfNF9CIjoyNywiU181X0EiOjI4LCJTXzVfQiI6LTEsIlNfNl9BIjoyOSwiU182X0IiOjMxLCJTXzdfQSI6LTEsIlNfN19CIjotMSwiU184X0EiOi0xLCJTXzhfQiI6LTEsIlNfOV9BIjoxNzUsIlNfOV9CIjotMSwiU18xMF9BIjo4NCwiU18xMF9CIjozMywiU18xMV9BIjotMSwiU18xMV9CIjozOSwiU18xMl9BIjo0MCwiU18xMl9CIjo0MX0=',
  'eyJKXzdfQSI6LTEsIkpfN19CIjotMSwiSl84X0EiOi0xLCJKXzhfQiI6OTEsIkpfOV9BIjo5MiwiSl85X0IiOi0xLCJKXzEwX0EiOjk0LCJKXzEwX0IiOjk1LCJKXzExX0EiOi0xLCJKXzExX0IiOjk3LCJKXzEyX0EiOjAsIkpfMTJfQiI6MiwiQ18xX0EiOi0xLCJDXzFfQiI6LTEsIkNfMl9BIjoxMDIsIkNfMl9CIjotMSwiQ18zX0EiOjQ1LCJDXzNfQiI6NDgsIkNfNF9BIjozLCJDXzRfQiI6LTEsIkNfNV9BIjo1LCJDXzVfQiI6NiwiQ182X0EiOi0xLCJDXzZfQiI6OSwiQ183X0EiOi0xLCJDXzdfQiI6LTEsIkNfOF9BIjotMSwiQ184X0IiOi0xLCJDXzlfQSI6MTI5LCJDXzlfQiI6NTgsIkNfMTBfQSI6LTEsIkNfMTBfQiI6MTMsIkNfMTFfQSI6MTUsIkNfMTFfQiI6MTksIkNfMTJfQSI6LTEsIkNfMTJfQiI6LTEsIlNfMV9BIjotMSwiU18xX0IiOjY5LCJTXzJfQSI6NzAsIlNfMl9CIjo3MSwiU18zX0EiOi0xLCJTXzNfQiI6MjYsIlNfNF9BIjo3NSwiU180X0IiOi0xLCJTXzVfQSI6MjgsIlNfNV9CIjotMSwiU182X0EiOjI5LCJTXzZfQiI6MzAsIlNfN19BIjotMSwiU183X0IiOi0xLCJTXzhfQSI6LTEsIlNfOF9CIjotMSwiU185X0EiOjE3NSwiU185X0IiOjgxLCJTXzEwX0EiOi0xLCJTXzEwX0IiOjMzLCJTXzExX0EiOjM0LCJTXzExX0IiOjM5LCJTXzEyX0EiOi0xLCJTXzEyX0IiOi0xfQ==',
  'eyJKXzdfQSI6LTEsIkpfN19CIjotMSwiSl84X0EiOi0xLCJKXzhfQiI6OTEsIkpfOV9BIjo5MiwiSl85X0IiOi0xLCJKXzEwX0EiOjk0LCJKXzEwX0IiOjk1LCJKXzExX0EiOi0xLCJKXzExX0IiOjk3LCJKXzEyX0EiOjAsIkpfMTJfQiI6MiwiQ18xX0EiOi0xLCJDXzFfQiI6LTEsIkNfMl9BIjoxMDIsIkNfMl9CIjotMSwiQ18zX0EiOjQ1LCJDXzNfQiI6NDgsIkNfNF9BIjozLCJDXzRfQiI6LTEsIkNfNV9BIjo1LCJDXzVfQiI6NiwiQ182X0EiOi0xLCJDXzZfQiI6OSwiQ183X0EiOi0xLCJDXzdfQiI6LTEsIkNfOF9BIjotMSwiQ184X0IiOi0xLCJDXzlfQSI6MTI5LCJDXzlfQiI6NTgsIkNfMTBfQSI6LTEsIkNfMTBfQiI6MTMsIkNfMTFfQSI6MTUsIkNfMTFfQiI6LTEsIkNfMTJfQSI6MjEsIkNfMTJfQiI6MjMsIlNfMV9BIjotMSwiU18xX0IiOi0xLCJTXzJfQSI6LTEsIlNfMl9CIjoyNCwiU18zX0EiOjE1MiwiU18zX0IiOjI2LCJTXzRfQSI6LTEsIlNfNF9CIjotMSwiU181X0EiOjI4LCJTXzVfQiI6LTEsIlNfNl9BIjoyOSwiU182X0IiOjMxLCJTXzdfQSI6LTEsIlNfN19CIjotMSwiU184X0EiOi0xLCJTXzhfQiI6LTEsIlNfOV9BIjoxNzUsIlNfOV9CIjo4MSwiU18xMF9BIjotMSwiU18xMF9CIjozMywiU18xMV9BIjozNCwiU18xMV9CIjotMSwiU18xMl9BIjo0MCwiU18xMl9CIjo0Mn0=',
  'eyJKXzdfQSI6LTEsIkpfN19CIjotMSwiSl84X0EiOi0xLCJKXzhfQiI6LTEsIkpfOV9BIjotMSwiSl85X0IiOjE5NSwiSl8xMF9BIjoyMDAsIkpfMTBfQiI6LTEsIkpfMTFfQSI6LTEsIkpfMTFfQiI6OTgsIkpfMTJfQSI6LTEsIkpfMTJfQiI6MiwiQ18xX0EiOjEwMSwiQ18xX0IiOi0xLCJDXzJfQSI6LTEsIkNfMl9CIjoyMzMsIkNfM19BIjo0NSwiQ18zX0IiOi0xLCJDXzRfQSI6NCwiQ180X0IiOjUxLCJDXzVfQSI6LTEsIkNfNV9CIjo3LCJDXzZfQSI6LTEsIkNfNl9CIjo5LCJDXzdfQSI6LTEsIkNfN19CIjotMSwiQ184X0EiOi0xLCJDXzhfQiI6LTEsIkNfOV9BIjoxMjksIkNfOV9CIjo1OCwiQ18xMF9BIjotMSwiQ18xMF9CIjoxNCwiQ18xMV9BIjoxNSwiQ18xMV9CIjoyMCwiQ18xMl9BIjotMSwiQ18xMl9CIjoyMiwiU18xX0EiOi0xLCJTXzFfQiI6NjksIlNfMl9BIjo3MCwiU18yX0IiOi0xLCJTXzNfQSI6LTEsIlNfM19CIjoyNiwiU180X0EiOi0xLCJTXzRfQiI6MjcsIlNfNV9BIjoxNTcsIlNfNV9CIjotMSwiU182X0EiOi0xLCJTXzZfQiI6MzAsIlNfN19BIjotMSwiU183X0IiOi0xLCJTXzhfQSI6LTEsIlNfOF9CIjotMSwiU185X0EiOjE3NSwiU185X0IiOjgxLCJTXzEwX0EiOi0xLCJTXzEwX0IiOjMzLCJTXzExX0EiOjM0LCJTXzExX0IiOjM5LCJTXzEyX0EiOi0xLCJTXzEyX0IiOjQxfQ==',
  'eyJKXzdfQSI6LTEsIkpfN19CIjo5MCwiSl84X0EiOi0xLCJKXzhfQiI6OTEsIkpfOV9BIjo5MiwiSl85X0IiOi0xLCJKXzEwX0EiOjk0LCJKXzEwX0IiOjk1LCJKXzExX0EiOi0xLCJKXzExX0IiOjk3LCJKXzEyX0EiOjAsIkpfMTJfQiI6LTEsIkNfMV9BIjo5OSwiQ18xX0IiOi0xLCJDXzJfQSI6MTAyLCJDXzJfQiI6LTEsIkNfM19BIjo0NywiQ18zX0IiOjQ4LCJDXzRfQSI6MywiQ180X0IiOi0xLCJDXzVfQSI6NSwiQ181X0IiOi0xLCJDXzZfQSI6OCwiQ182X0IiOjExMywiQ183X0EiOi0xLCJDXzdfQiI6LTEsIkNfOF9BIjotMSwiQ184X0IiOi0xLCJDXzlfQSI6NTUsIkNfOV9CIjoxMSwiQ18xMF9BIjo2MSwiQ18xMF9CIjotMSwiQ18xMV9BIjotMSwiQ18xMV9CIjoxOSwiQ18xMl9BIjoxNDAsIkNfMTJfQiI6NjYsIlNfMV9BIjotMSwiU18xX0IiOi0xLCJTXzJfQSI6LTEsIlNfMl9CIjoxNDcsIlNfM19BIjoxNTIsIlNfM19CIjoyNSwiU180X0EiOi0xLCJTXzRfQiI6MTU2LCJTXzVfQSI6MjgsIlNfNV9CIjotMSwiU182X0EiOjI5LCJTXzZfQiI6MTYyLCJTXzdfQSI6LTEsIlNfN19CIjotMSwiU184X0EiOi0xLCJTXzhfQiI6LTEsIlNfOV9BIjo4MCwiU185X0IiOjMyLCJTXzEwX0EiOjg0LCJTXzEwX0IiOi0xLCJTXzExX0EiOi0xLCJTXzExX0IiOjM4LCJTXzEyX0EiOjE4NSwiU18xMl9CIjo4OX0=',
  'eyJKXzdfQSI6LTEsIkpfN19CIjo5MCwiSl84X0EiOi0xLCJKXzhfQiI6OTEsIkpfOV9BIjo5MiwiSl85X0IiOi0xLCJKXzEwX0EiOjk0LCJKXzEwX0IiOjk1LCJKXzExX0EiOi0xLCJKXzExX0IiOjk3LCJKXzEyX0EiOjAsIkpfMTJfQiI6LTEsIkNfMV9BIjo5OSwiQ18xX0IiOi0xLCJDXzJfQSI6MTAyLCJDXzJfQiI6LTEsIkNfM19BIjo0NywiQ18zX0IiOjQ4LCJDXzRfQSI6MywiQ180X0IiOi0xLCJDXzVfQSI6NSwiQ181X0IiOi0xLCJDXzZfQSI6OCwiQ182X0IiOjExMywiQ183X0EiOi0xLCJDXzdfQiI6LTEsIkNfOF9BIjotMSwiQ184X0IiOi0xLCJDXzlfQSI6LTEsIkNfOV9CIjoxMSwiQ18xMF9BIjo2MSwiQ18xMF9CIjotMSwiQ18xMV9BIjoxNywiQ18xMV9CIjoxOSwiQ18xMl9BIjoyMSwiQ18xMl9CIjotMSwiU18xX0EiOi0xLCJTXzFfQiI6LTEsIlNfMl9BIjotMSwiU18yX0IiOjI0LCJTXzNfQSI6MTUyLCJTXzNfQiI6MjUsIlNfNF9BIjotMSwiU180X0IiOjE1NiwiU181X0EiOjI4LCJTXzVfQiI6LTEsIlNfNl9BIjoyOSwiU182X0IiOjE2MiwiU183X0EiOi0xLCJTXzdfQiI6LTEsIlNfOF9BIjotMSwiU184X0IiOi0xLCJTXzlfQSI6LTEsIlNfOV9CIjozMiwiU18xMF9BIjo4NCwiU18xMF9CIjotMSwiU18xMV9BIjozNiwiU18xMV9CIjotMSwiU18xMl9BIjo0MCwiU18xMl9CIjo4OX0=',
  'eyJKXzdfQSI6LTEsIkpfN19CIjotMSwiSl84X0EiOi0xLCJKXzhfQiI6OTEsIkpfOV9BIjo5MiwiSl85X0IiOi0xLCJKXzEwX0EiOjk0LCJKXzEwX0IiOjk1LCJKXzExX0EiOi0xLCJKXzExX0IiOjk3LCJKXzEyX0EiOjAsIkpfMTJfQiI6MiwiQ18xX0EiOi0xLCJDXzFfQiI6LTEsIkNfMl9BIjoxMDIsIkNfMl9CIjotMSwiQ18zX0EiOjQ1LCJDXzNfQiI6NDgsIkNfNF9BIjozLCJDXzRfQiI6LTEsIkNfNV9BIjo1LCJDXzVfQiI6NiwiQ182X0EiOi0xLCJDXzZfQiI6OSwiQ183X0EiOi0xLCJDXzdfQiI6LTEsIkNfOF9BIjotMSwiQ184X0IiOi0xLCJDXzlfQSI6NTUsIkNfOV9CIjoxMSwiQ18xMF9BIjotMSwiQ18xMF9CIjoxMywiQ18xMV9BIjoxNSwiQ18xMV9CIjoxOSwiQ18xMl9BIjotMSwiQ18xMl9CIjoyMywiU18xX0EiOi0xLCJTXzFfQiI6LTEsIlNfMl9BIjotMSwiU18yX0IiOjI0LCJTXzNfQSI6MTUyLCJTXzNfQiI6MjUsIlNfNF9BIjotMSwiU180X0IiOi0xLCJTXzVfQSI6MjgsIlNfNV9CIjotMSwiU182X0EiOjI5LCJTXzZfQiI6MzEsIlNfN19BIjotMSwiU183X0IiOi0xLCJTXzhfQSI6LTEsIlNfOF9CIjotMSwiU185X0EiOjE3NSwiU185X0IiOjMyLCJTXzEwX0EiOi0xLCJTXzEwX0IiOjMzLCJTXzExX0EiOjM0LCJTXzExX0IiOi0xLCJTXzEyX0EiOjQwLCJTXzEyX0IiOjQyfQ==',
]


</script>
</body>
</html>